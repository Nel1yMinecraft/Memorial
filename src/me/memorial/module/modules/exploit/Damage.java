package me.memorial.module.modules.exploit;

import me.memorial.module.Module;
import me.memorial.module.ModuleCategory;
import me.memorial.module.ModuleInfo;
import me.memorial.value.IntegerValue;
import me.memorial.value.ListValue;
import net.minecraft.network.play.client.C03PacketPlayer.C04PacketPlayerPosition;

@ModuleInfo(name = "Damage", description = "Deals damage to yourself.", category = ModuleCategory.EXPLOIT, canEnable = false)
public class Damage extends Module {
    private final ListValue modeValue = new ListValue("Mode", new String[]{"NCP", "AAC"}, "NCP");
    private final IntegerValue damageValue = new IntegerValue("Damage", 1, 1, 20);

    @Override
    public void onEnable() {
        String mode = modeValue.get().toLowerCase();
        if (mode.equals("ncp")) {
            double x = mc.thePlayer.posX;
            double y = mc.thePlayer.posY;
            double z = mc.thePlayer.posZ;

            for (int i = 0; i < 65 * damageValue.get(); i++) {
                mc.getNetHandler().addToSendQueue(new C04PacketPlayerPosition(x, y + 0.049, z, false));
                mc.getNetHandler().addToSendQueue(new C04PacketPlayerPosition(x, y, z, false));
            }
            mc.getNetHandler().addToSendQueue(new C04PacketPlayerPosition(x, y, z, true));
        } else if (mode.equals("aac")) {
            mc.thePlayer.motionY = 5 * damageValue.get();
        }
    }
}
